{% extends 'base.html' %}

{% block title %}Rekam Medis - Klinik Google {% endblock %}

{% block content %}
  {% include 'navbar.html' %}

  <div class="container mt-5">
    <h2 id="jadwal" class="text-center" style="color: #091e3e">
      Data Rekam Medis
    </h2>
    <h2 id="jadwal" class="text-center" style="color: #091e3e">
      Pasien Klinik Google
    </h2>
    <table
      class="table table-hover table-bordered"
      style="border-collapse: collapse; border-color: #091e3e"
      id="rekam_medisTable"
    >
      <thead>
        <tr>
          <th>Nama Pasien</th>
          <th>NIK</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <!-- Data will be populated here -->
        {% for item in data_rekam_medis %}
        <tr id="{{ item._id }}">
          <td>{{ item.name }}</td>
          <td>{{ item.nik }}</td>
          <td>
            {% if item.action == 'buat' %}
            <button
              class="btn btn-warning btn-sm btn-buat"
              data-bs-toggle="modal"
              data-bs-target="#buatModal"
            >
              Buat
            </button>
            {% else %}
            <button
              class="btn btn-danger btn-sm btn-lihat"
              data-bs-toggle="modal"
              data-bs-target="#lihatModal"
            >
              Lihat
            </button>
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- Buat Modal -->
  <div
    class="modal fade"
    id="buatModal"
    tabindex="-1"
    aria-labelledby="buatModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="buatModalLabel">
            Tambah Data Rekam Medis
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <form id="buatrekam_medis">
            <div class="row mb-3">
              <label
                for="no"
                class="col-sm-2 col-form-label col-form-label-sm"
                >No
              </label>
              <div class="col-sm-10">
                <input
                  type="text"
                  class="form-control form-control-sm"
                  id="no"
                  name="no"
                />
              </div>
            </div>
            <div class="row mb-3">
              <label
                for="dokter"
                class="col-sm-2 col-form-label col-form-label-sm"
                >Dokter
              </label>
              <div class="col-sm-10">
                <input
                  type="text"
                  class="form-control form-control-sm"
                  id="dokter"
                  name="dokter"
                />
              </div>
            </div>
            <div class="field">
              <label class="label" for="textarea-about">Hasil Anamnesa</label>

              <p class="control">
                <textarea
                  id="textarea-about"
                  class="textarea"
                  placeholder="Introduce yourself"
                  cols="50"
                  ,
                  name="hasil_anamnesa"
                >
                </textarea>
              </p>
            </div>
            <div class="d-flex justify-content-center">
              <button
                type="button"
                class="btn btn-secondary me-2"
                data-bs-dismiss="modal"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-primary">Save</button>
            </div>
          </form>
        </div>
        <div class="modal-footer"></div>
      </div>
    </div>
  </div>

  <!-- lihat Modal -->
  <div
    class="modal fade"
    id="lihatModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="lihatModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-fullscreen" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title" id="lihatModalLabel">Hasil Periksa</h2>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <table
            class="table table-hover table-bordered"
            style="border-collapse: collapse; border-color: #091e3e"
            id="list_checkup_user"
          >
            <thead>
              <tr>
                <th>No</th>
                <th>Tgl Periksa</th>
                <th>Dokter</th>
                <th>Poli</th>
                <th>Keluhan</th>
                <th>Anamnesa Hasil Pemeriksaan</th>
                <th>Action</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- edit Modal -->
  <div
    class="modal fade"
    id="editModal"
    tabindex="-1"
    aria-labelledby="editModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="editModalLabel">
            Tambah Data Rekam Medis
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <form id="edit">
            <div class="row mb-3">
              <label
                for="dokter"
                class="col-sm-2 col-form-label col-form-label-sm"
                >Dokter
              </label>
              <div class="col-sm-10">
                <input
                  type="text"
                  class="form-control form-control-sm"
                  id="dokter"
                  name="dokter"
                />
              </div>
            </div>
            <div class="field">
              <label class="label" for="textarea-about">Hasil Anamnesa</label>
              <p class="control">
                <textarea
                  id="textarea-about"
                  class="textarea"
                  placeholder="Introduce yourself"
                  cols="45"
                  ,
                  name="hasil_anamnesa"
                >
                </textarea>
              </p>
            </div>
            <div class="d-flex justify-content-center">
              <button
                type="button"
                class="btn btn-secondary me-2"
                data-bs-dismiss="modal"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-primary">Save</button>
            </div>
          </form>
        </div>
        <div class="modal-footer"></div>
      </div>
    </div>
  </div>

  {% include 'footer.html' %}

{% endblock %}
