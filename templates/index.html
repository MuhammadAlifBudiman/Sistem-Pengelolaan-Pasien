<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <!-- DataTables CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css"
    />
    <!-- DataTables JS -->
    <script
      type="text/javascript"
      charset="utf8"
      src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"
    ></script>
    <script>
      $(document).ready(function () {
        // Inisialisasi DataTables
        let jadwalTable = $("#jadwalTable").DataTable();
        let antrianTable = $("#antrianTable").DataTable();

        // Ambil data jadwal praktek
        $.ajax({
          url: "/api/get_jadwal",
          type: "GET",
          success: function (data) {
            // Isi tabel jadwal praktek
            jadwalTable.clear().draw();
            data.jadwal.forEach(function (row) {
              jadwalTable.row
                .add([
                  row.nama,
                  row.poli,
                  row.hari,
                  row.jam_buka + " - " + row.jam_tutup,
                ])
                .draw();
            });
          },
        });

        // Ambil data antrian hari ini
        $.ajax({
          url: "/api/get_antrian",
          type: "GET",
          success: function (data) {
            // Isi tabel antrian hari ini
            antrianTable.clear().draw();
            data.antrian.forEach(function (row) {
              antrianTable.row
                .add([row.poli, row.jumlah_pendaftar, row.dalam_antrian])
                .draw(false);
            });
          },
        });

        // $(".navbar-toggler").on("click", function () {
        //   $(".navbar-collapse").toggleClass("show");
        // });
      });

      function sign_out() {
        $.removeCookie("mytoken", { path: "/" });
        alert("Logged out!");
        window.location.href = "/";
      }
    </script>
  </head>

  <body>
    {% if user_info %} {% if user_info.role == 'pasien' %}
    <nav class="navbar navbar-expand-lg bg-light fixed-top">
      <a class="navbar-brand ms-4" style="color: #06a3da"
        ><span style="color: #091e3e">Klinik</span> Google</a
      >
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/pendaftaran">Pendaftaran</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/riwayat_pendaftaran"
              >Riwayat Pendaftaran</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/riwayat_checkup">Riwayat Check Up</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/profile">{{ user_info.username }}</a>
          </li>
          <li class="nav-item">
            <button
              class="btn text-light"
              onclick="sign_out()"
              style="background-color: #f57e57"
            >
              Logout
            </button>
          </li>
        </ul>
      </div>
    </nav>
    {% else %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
      <a class="navbar-brand">Klinik Google</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/kelola_pendaftaran">Pendaftaran</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/dashboard">Dashboard</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/rekam_medis">Rekam Medis</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/kelola_praktik">Kelola Praktik</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/profile">{{ user_info.username }}</a>
          </li>
          <li class="nav-item">
            <button class="btn btn-danger" onclick="sign_out()">Logout</button>
          </li>
        </ul>
      </div>
    </nav>
    {% endif %} {% else %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
      <a class="navbar-brand">Klinik Google</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="#layanan">Layanan</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#tatacara">Tata Cara</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#jadwal">Jadwal</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#antrian">Antrian</a>
          </li>
          <li class="nav-item">
            <a class="btn btn-primary" href="/login">Masuk</a>
          </li>
        </ul>
      </div>
    </nav>
    {% endif %}

    <div class="container-fluid px-5 mt-5">
      <div id="carouselExampleIndicators" class="carousel slide mt-5 pt-5">
        <div class="carousel-indicators">
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="0"
            class="active"
            aria-current="true"
            aria-label="Slide 1"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="1"
            aria-label="Slide 2"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="2"
            aria-label="Slide 3"
          ></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img
              src="../static/01.jpg"
              class="d-block w-100"
              alt="..."
              style="height: 500px"
            />
          </div>
          <div class="carousel-item">
            <img
              src="../static/02.jpg"
              class="d-block w-100"
              alt="..."
              style="height: 500px"
            />
          </div>
          <div class="carousel-item">
            <img
              src="../static/03.jpg"
              class="d-block w-100"
              alt="..."
              style="height: 500px"
            />
          </div>
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
    <div class="container mt-5">
      <div class="content">
        <h2 id="tatacara" class="text-center text-primary">
          Tata Cara Pendaftaran Online
        </h2>
        <p class="text-center">
          Langkah-langkah tata cara pendaftaran online di Klinik Google
        </p>
        <div class="container custom-container">
          <div class="row">
            <div class="col-md-4 custom-col">
              <div
                class="card text-center h-100 d-flex justify-content-center align-items-center text-light fw-bold"
                style="
                  background-color: #06a3da; /* box-shadow: 0 1px 1px black; */
                "
              >
                <div
                  class="row d-flex justify-content-center align-items-center"
                >
                  <div class="col-2">
                    <h1 class="text-end">1</h1>
                  </div>
                  <div class="col-9">
                    <div class="card-body">
                      <h5 class="card-title fw-bold">Login</h5>
                      <p class="card-text">
                        Silakan login atau registrasi terlebih dahulu
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-4 custom-col">
              <div
                class="card text-center h-100 d-flex justify-content-center align-items-center text-light fw-bold"
                style="
                  background-color: #06a3da; /* box-shadow: 0 1px 1px black; */
                "
              >
                <div
                  class="row d-flex justify-content-center align-items-center"
                >
                  <div class="col-2">
                    <h1 class="text-end">2</h1>
                  </div>
                  <div class="col-9">
                    <div class="card-body">
                      <h5 class="card-title fw-bold">Pilih Layanan</h5>
                      <p class="card-text">
                        Telusuri daftar layanan yang tersedia yang sesuai dengan
                        kebutuhan kesehatan Anda
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-4 custom-col">
              <div
                class="card text-center h-100 d-flex justify-content-center align-items-center text-light fw-bold"
                style="
                  background-color: #06a3da; /* box-shadow: 0 1px 1px black; */
                "
              >
                <div
                  class="row d-flex justify-content-center align-items-center"
                >
                  <div class="col-2">
                    <h1 class="text-end">3</h1>
                  </div>
                  <div class="col-9">
                    <div class="card-body">
                      <h5 class="card-title fw-bold">
                        Isi Formulir Pendaftaran
                      </h5>
                      <p class="card-text">
                        Lengkapi formulir pendaftaran online dengan informasi
                        pribadi Anda, termasuk nama, alamat, nomor telepon, dan
                        rincian medis yang relevan
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row mt-5">
            <div class="col-md-4 custom-col">
              <div
                class="card text-center h-100 d-flex justify-content-center align-items-center text-light fw-bold"
                style="
                  background-color: #06a3da; /* box-shadow: 0 1px 1px black; */
                "
              >
                <div
                  class="row d-flex justify-content-center align-items-center"
                >
                  <div class="col-2">
                    <h1 class="text-end">4</h1>
                  </div>
                  <div class="col-9">
                    <div class="card-body">
                      <h5 class="card-title fw-bold">Pilih Jadwal Praktek</h5>
                      <p class="card-text">
                        Pilih jadwal praktek yang sesuai dengan ketersediaan
                        Anda. Anda dapat melihat jadwal dokter dan poli untuk
                        memudahkan pemilihan
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-4 custom-col">
              <div
                class="card text-center h-100 d-flex justify-content-center align-items-center text-light fw-bold"
                style="
                  background-color: #06a3da; /* box-shadow: 0 1px 1px black; */
                "
              >
                <div
                  class="row d-flex justify-content-center align-items-center"
                >
                  <div class="col-2">
                    <h1 class="text-end">5</h1>
                  </div>
                  <div class="col-9">
                    <div class="card-body">
                      <h5 class="card-title fw-bold">
                        Datang ke Klinik Sesuai Jadwal
                      </h5>
                      <p class="card-text">
                        Pada hari janji temu, datang ke klinik tepat waktu dan
                        tunjukkan konfirmasi pendaftaran kepada petugas penerima
                        pasien
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-md-4 custom-col">
              <div
                class="card text-center h-100 d-flex justify-content-center align-items-center text-light fw-bold"
                style="
                  background-color: #06a3da; /* box-shadow: 0 1px 1px black; */
                "
              >
                <div
                  class="row d-flex justify-content-center align-items-center"
                >
                  <div class="col-2">
                    <h1 class="text-end">6</h1>
                  </div>
                  <div class="col-9">
                    <div class="card-body">
                      <h5 class="card-title fw-bold">Bertemu Dokter</h5>
                      <p class="card-text">
                        Bertemu dengan dokter sesuai jadwal untuk konsultasi
                        atau perawatan yang Anda butuhkan
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <h2 id="jadwal" class="text-center mt-5 text-primary">
          Jadwal Praktik
        </h2>
        <table
          class="table table-hover table-bordered border-primary"
          id="jadwalTable"
          style="border-collapse: collapse"
        >
          <thead>
            <tr>
              <th>Nama</th>
              <th>Poli</th>
              <th>Hari</th>
              <th>Jam Praktek</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

        <h2 id="antrian" class="text-center mt-5 text-primary">
          Antrian Hari Ini
        </h2>
        <table
          class="table table-hover table-bordered border-primary"
          id="antrianTable"
          style="border-collapse: collapse"
        >
          <thead>
            <tr>
              <th>Poli</th>
              <th>Jumlah Pendaftar</th>
              <th>Dalam Antrian</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer text-center mt-5 py-3">
      <p>&copy; 2023 Klinik Google. All rights reserved.</p>
    </div>
  </body>
</html>
